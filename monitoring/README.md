# Домашнее задание к занятию 13 «Введение в мониторинг»

## Обязательные задания

1. Вас пригласили настроить мониторинг на проект. На онбординге вам рассказали, что проект представляет из себя платформу для вычислений с выдачей текстовых отчётов, которые сохраняются на диск. 
Взаимодействие с платформой осуществляется по протоколу http. Также вам отметили, что вычисления загружают ЦПУ. Какой минимальный набор метрик вы выведите в мониторинг и почему?

Минимальный набор метрик на указанный проект:
1.1 - Мониторинг количества ответов по http.
	  мониторинг ответов с кодом 200
	  мониторинг ответов с кодом 500
	  В идеальном сценарии алертинг на данный мониторинг должен навешиваться опираясь на результаты Нагрузочного тестирования.
	
1.2 - Мониторинг инфраструктуры:
      Загрузка CPU - Алерты: Warning при значении загрузки CPU = 85% в течениии 5 минут, Critical при значении загрузки CPU = 95% в течениии 5 минут.
	  Загрузка RAM/swap - Алерты: Warning при значении загрузки CPU = 75% в течениии 5 минут, Critical при значении загрузки CPU = 85-90% в течениии 5 минут.
	  Мониторинг свободного места на дисках: системный + цедевой для хранения отчетов. - Алерты: Warning при получении значения об остатке менее 20% свободного места, 
	  Critical при получении значения об остатке менее 10% свободного места.
	  Проверка количества свободных inode

2. Менеджер продукта, посмотрев на ваши метрики, сказал, что ему непонятно, что такое RAM/inodes/CPUla. Также он сказал, что хочет понимать, насколько мы выполняем свои обязанности перед клиентами и какое качество обслуживания.
 Что вы можете ему предложить?

2.1 Для упрощения понимания и восприятия метрик необходимо настроить инструмент визкализации, например Grafana. В ней есть возможность именовать дашборды и визуализацию метрик заведомо понятными значениями.
2.2 Для мониторинга доступности системы использовать готовую или написанную метрику Uptime - отображающую статус системы в режиме real-time и в за указанный промежуток времени.
2.3 Добавить метрики: количество запросов от клиентов - количство успешных отчетов.

3. Вашей DevOps-команде в этом году не выделили финансирование на построение системы сбора логов. Разработчики, в свою очередь, хотят видеть все ошибки, которые выдают их приложения. 
Какое решение вы можете предпринять в этой ситуации, чтобы разработчики получали ошибки приложения?

3.1 Использовать Sentry - облачный менеджер инцидентов приложений.
3.2 Установить и настроить сборщик логов: Graylog, Elastic

4. Вы, как опытный SRE, сделали мониторинг, куда вывели отображения выполнения SLA = 99% по http-кодам ответов. 
Этот параметр вычисляется по формуле: summ_2xx_requests/summ_all_requests. Он не поднимается выше 70%, но при этом в вашей системе нет кодов ответа 5xx и 4xx. Где у вас ошибка?

4.1 Не учтены другие типы ответов. (1xx ; 3xx)
(summ_1xx_requests + summ_2xx_requests + summ_3xx_requests)/summ_all_requests
