**Домашнее задание к занятию «Микросервисы: принципы»** <br>
**Вы работаете в крупной компании, которая строит систему на основе микросервисной архитектуры. Вам как DevOps-специалисту необходимо выдвинуть предложение по организации инфраструктуры для разработки и эксплуатации.** <br>

**Задача 1: API Gateway** <br>
**Предложите решение для обеспечения реализации API Gateway. Составьте сравнительную таблицу возможностей различных программных решений. На основе таблицы сделайте выбор решения.** <br>
**Решение должно соответствовать следующим требованиям:** <br>
_**маршрутизация запросов к нужному сервису на основе конфигурации,**_ <br>
_**возможность проверки аутентификационной информации в запросах,**_ <br>
_**обеспечение терминации HTTPS.**_ <br>
**Обоснуйте свой выбор.** <br>
_Ответ_ <br>

| Функционал                                                      | Nginx | Apache | HAProxy |
|-----------------------------------------------------------------|-------|--------|---------|
| маршрутизация запросов к нужному сервису на основе конфигурации | +     | +      | +       |
| возможность проверки аутентификационной информации в запросах   | +     | +      | +       |
| обеспечение терминации HTTPS                                    | +     | +      | +       |

_Выбор: NGINX_ <br>
_NginX является более производительным, нежели HAProxy, он умеет без каких-либо дополнительных конфигураций использовать многопоточность. HAProxy не умеет работать как Web-сервер._ <br>
_Nginx намного эффективнее справляется с большим количеством одновременных подключений, чем Apache. А также потребляет гораздо меньше памяти._ <br>

**Задача 2: Брокер сообщений** <br> 
**Составьте таблицу возможностей различных брокеров сообщений. На основе таблицы сделайте обоснованный выбор решения.** <br>
**Решение должно соответствовать следующим требованиям:** <br>
_**поддержка кластеризации для обеспечения надёжности,**_ <br>
_**хранение сообщений на диске в процессе доставки,**_ <br>
_**высокая скорость работы,**_ <br>
_**поддержка различных форматов сообщений,**_ <br>
_**разделение прав доступа к различным потокам сообщений,**_ <br>
_**простота эксплуатации.**_ <br>
**Обоснуйте свой выбор.** <br>

| Функционал                                            | RabbitMQ | Kafka |
|-------------------------------------------------------|----------|-------|
| поддержка кластеризации для обеспечения надёжности    | +        | +     |
| хранение сообщений на диске в процессе доставки       | +        | +     |
| высокая скорость работы                               | +        | +     |
| поддержка различных форматов сообщений                | +        | +     |
| разделение прав доступа к различным потокам сообщений | +        | +     |
| простота эксплуатации                                 | +        | -     |

_Выбор: Kafka_ <br>
_Несмотря на более сложную эксплуатацию kafka имеет ряд преимуществ над RabbitMQ_ <br>
_-большая производительность, что является плюсом для высоконагруженных систем (1 миллион сообщений в секунду)_ <br>
_-использует неограниченный поток данных, при этом пары «ключ-значение» непрерывно передаются в назначенную тему_ <br>
_-сообщения сохраняются в очереди до истечения срока хранения_ <br>
